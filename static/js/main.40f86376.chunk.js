(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),l=a.n(i),o=(a(15),a(6)),c=a(1),u=a(2),s=a(4),d=a(3),m=a(5),f=(a(16),function(e){var t=e.post.data.url,a=e.post.data.title,n=function(e){return e.indexOf("&")>1&&(e=e.replace("&amp;","&")),e};return t=n(t),a=n(a),r.a.createElement("div",{className:"titles"},a,r.a.createElement("button",null,r.a.createElement("a",{href:t},"Link")))}),h=function(e){return r.a.createElement("div",{className:"filtered-list"},r.a.createElement("h3",null,"Filtered"),e.filteredData.map(function(e){return r.a.createElement(f,{post:e,key:e.data.id})}))},p=function(e){return r.a.createElement("div",{className:"reddit-list"},r.a.createElement("h3",null,"Not filtered"),e.redditData.map(function(e){return r.a.createElement(f,{post:e,key:e.data.id})}))},g=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={uptime:0,displayTime:"0 days, 0 hours, 0 minutes, 0 seconds"},a.updateUptime=function(){a.setState(function(e){return{uptime:e.uptime+1}}),a.setState(function(e){return{displayTime:a.setDateAndTime(e.uptime)}})},a.setDateAndTime=function(e){var t,a=e%60;t=a>1||0===a?"seconds":"second";var n,r=parseInt(e/60%60);n=r>1||0===r?"minutes":"minute";var i,l=parseInt(e/60/60%24);i=l>1||0===l?"hours":"hour";var o,c=parseInt(e/60/60/24);return o=c>1||0===c?"days":"day","".concat(c," ").concat(o,", ").concat(l," ").concat(i,", ").concat(r," ").concat(n," and ").concat(a," ").concat(t)},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){setInterval(this.updateUptime,1e3)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Current Uptime: ",this.state.displayTime))}}]),t}(r.a.Component),v=function(e){var t=e.post.data.url;return t.indexOf("&")>1&&(t=t.replace("&amp;","&")),r.a.createElement("div",{className:"titles"},e.post.data.title,r.a.createElement("button",null,r.a.createElement("a",{href:t},"Link")),r.a.createElement("button",{onClick:e.handleClick,value:e.post.data.id},"x"))},S=function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,"Unread"),e.unread.map(function(t){return r.a.createElement(v,{post:t,key:t.data.id,handleClick:e.handleClick})}))},E=function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,"History of Titles Marked Read",r.a.createElement("button",{onClick:e.clearLocalStorage},"Clear")),e.read.map(function(e){return r.a.createElement(f,{post:e,key:e.data.id})}))},y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={inputValue:""},a.onInputChange=function(e){a.setState({inputValue:e.target.value})},a.onSubmit=function(e){if(e.preventDefault(),localStorage.getItem("titles")){var t=localStorage.getItem("titles").split(",");t.push(a.state.inputValue),localStorage.setItem("titles",t)}else localStorage.setItem("titles",[a.state.inputValue]);a.setState({inputValue:""}),a.props.updateLocalFilterData()},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{placeholder:"save your manga titles",onChange:this.onInputChange,value:this.state.inputValue}),r.a.createElement("button",null,"add"))}}]),t}(r.a.Component),b=function(e){return r.a.createElement("div",{className:"titles"},e.title,r.a.createElement("button",{onClick:function(){return e.removeFromLocalStorage(e.title)}},"x"))},k=function(e){var t=Array.from(e.mangaList);return r.a.createElement("div",{className:"my-saved-titles"},r.a.createElement("h3",null,"My Saved Titles"),r.a.createElement(y,{updateLocalFilterData:e.updateLocalFilterData}),t.map(function(t){return r.a.createElement(b,{title:t,key:t,removeFromLocalStorage:e.removeFromLocalStorage})}))},D=["UnOrdinary","Shingeki no Kyojin","Solo Leveling","Shokugeki no Souma","Haikyuu","My Hero Academia","one piece","dr. stone","the promised neverland","burning effect","black clover","beautiful legends","samurai 8","The God of High School","The Gamer","peerless dad","fight class 3","spy x family","gokushufudou","chainsawman","The Scholar's Reincarnation","Tate no Yuusha no Nariagari","To You, The Immortal","Tower of God","Akagami no Shirayukihime","A Returner\u2019s Magic Should be Special","Baby Steps","Jujutsu Kaisen","The Wrong Way to use Healing Magic","Act-Age","Dad is a Hero, Mom is a Spirit, I'm a Reincarnator","Heart Gear","Isekai de Tadahitori No Manono Tsukai ~ Tenshoku Shitara Maou ni Machigawa Remashita","Tensei Shitara Slime Datta Ken","Chainsaw Man","Demon Slayer: Kimetsu no Yaiba","One-Punch Man"],I=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={redditData:[],filter:D,filteredData:[],unread:[],read:[],intervalId:"",localFilterData:[]},a.grabRedditData=function(e){fetch("https://www.reddit.com/r/manga.json").then(function(e){return e.json()}).then(function(e){return a.setState({redditData:e.data.children})}).then(function(t){return e(a.state.localFilterData)}),console.log("fetching new reddit list")},a.filterMangaTitle=function(e){var t=a.state.redditData.filter(function(t){var a=!1;return e.forEach(function(e){t.data.title.includes(e)&&(a=!0)}),a}),n=a.checkIfAlreadyInRead(t,a.state.read);a.setState(function(e){return{filteredData:t}}),a.setState(function(e){return{unread:n}})},a.updateLocalFilterData=function(){var e=localStorage.getItem("titles").split(",");a.setState(function(t){return{localFilterData:e}}),a.filterMangaTitle(e)},a.removeFromLocalStorage=function(e){var t=a.state.localFilterData.filter(function(t){return t!==e}),n=a.state.read.filter(function(t){return t!==e});a.setState(function(e){return{localFilterData:t}}),a.setState(function(e){return{read:n}}),localStorage.setItem("titles",t),a.filterMangaTitle(t)},a.clearLocalStorage=function(e){localStorage.removeItem("read"),a.setState({read:[]})},a.markRead=function(e){var t=a.state.unread.filter(function(t){return t.data.id!==e.target.value}),n=a.state.unread.filter(function(t){return t.data.id===e.target.value});if(a.setState(function(e){return{unread:t}}),a.state.read.length>8){var r=a.state.read;r.shift(),a.setState(function(e){return{read:[].concat(Object(o.a)(r),[n[0]])}})}else a.setState(function(e){return{read:[].concat(Object(o.a)(e.read),[n[0]])}})},a.checkIfAlreadyInRead=function(e,t){var a=t.map(function(e){return e.data.id}),n=[];return e.concat(t).forEach(function(e){a.includes(e.data.id)||(n.push(e),a.push(e.data.id))}),n},a.toggleAutoRefresh=function(e){var t;e.target.checked?(t=setInterval(function(){return a.grabRedditData(a.filterMangaTitle)},6e4),a.setState(function(){return{intervalId:t}})):clearInterval(a.state.intervalId)},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.grabRedditData(this.filterMangaTitle),this.setState(function(e){return{localFilterData:localStorage.getItem("titles").split(",")}}),JSON.parse(localStorage.getItem("unread"))&&this.setState(function(e){return{unread:JSON.parse(localStorage.getItem("unread"))}}),JSON.parse(localStorage.getItem("read"))&&this.setState(function(e){return{read:JSON.parse(localStorage.getItem("read"))}}),window.addEventListener("beforeunload",this.saveStateToLocalStorage.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.saveStateToLocalStorage.bind(this)),this.saveStateToLocalStorage()}},{key:"saveStateToLocalStorage",value:function(){localStorage.setItem("titles",this.state.localFilterData),localStorage.setItem("unread",JSON.stringify(this.state.unread)),localStorage.setItem("read",JSON.stringify(this.state.read))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"uptime"},r.a.createElement(g,null),r.a.createElement("button",{onClick:function(){return e.grabRedditData(e.filterMangaTitle)}},"REFRESH REDDIT LIST"),r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",name:"autorefresh",onClick:this.toggleAutoRefresh}),r.a.createElement("label",{htmlFor:"autorefresh"},"Toggle Auto-Refresh"))),r.a.createElement("div",{className:"list"},r.a.createElement(k,{mangaList:this.state.localFilterData,updateLocalFilterData:this.updateLocalFilterData,removeFromLocalStorage:this.removeFromLocalStorage}),r.a.createElement("div",{className:"read-unread"},r.a.createElement(S,{unread:this.state.unread,handleClick:this.markRead}),r.a.createElement(E,{read:this.state.read,clearLocalStorage:this.clearLocalStorage})),r.a.createElement(h,{filteredData:this.state.filteredData}),r.a.createElement(p,{redditData:this.state.redditData})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.40f86376.chunk.js.map